<UserControl x:Class="WpfPlotDigitizer.AxisPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:WpfPlotDigitizer"
             xmlns:cycControls="clr-namespace:CycWpfLibrary.Controls;assembly=CycWpfLibrary"
             xmlns:cycMVVM="clr-namespace:CycWpfLibrary.MVVM;assembly=CycWpfLibrary"
             xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             mc:Ignorable="d"
             d:DesignHeight="450"
             d:DesignWidth="800"
             DataContext="{x:Static local:ViewModelLocator.AxisPageViewModel}">
  <Grid>
    <cycControls:PanZoomBorder ClipToBounds="True">
      <cycControls:PanZoomBorder.Background>
        <DrawingBrush TileMode="Tile"
                      Viewport="0,0,32,32"
                      ViewportUnits="Absolute">
          <DrawingBrush.Drawing>
            <GeometryDrawing Geometry="M0,0 H16 V16 H32 V32 H16 V16 H0Z"
                             Brush="LightGray" />
          </DrawingBrush.Drawing>
        </DrawingBrush>
      </cycControls:PanZoomBorder.Background>
      <Viewbox>
        <Grid Name="gridBase2">
          <Border Name="borderImageAxis"
                  BorderBrush="Transparent"
                  BorderThickness="1">
            <Image Name="imageAxis"
                   Source="{Binding bitmapSourceInput}"
                   Stretch="None" />
          </Border>
          <cycControls:Axis AxisLeft="{Binding AxisLeft, Converter={cycMVVM:DebugConverter}, Mode=TwoWay}"
                            AxisTop="{Binding AxisTop, Mode=TwoWay}"
                            AxisWidth="{Binding AxisWidth, Mode=TwoWay}"
                            AxisHeight="{Binding AxisHeight, Mode=TwoWay}"
                            Width="{Binding ElementName=imageAxis, Path=ActualWidth}"
                            Height="{Binding ElementName=imageAxis, Path=ActualHeight}"
                            ShadowBrush="#99999999"
                            AxisBrush="Red"
                            Panel.ZIndex="1">
            <i:Interaction.Triggers>
              <i:EventTrigger EventName="MouseDoubleClick">
                <i:InvokeCommandAction Command="{Binding AutoGetAxisCommand}" />
              </i:EventTrigger>
            </i:Interaction.Triggers>
          </cycControls:Axis>
        </Grid>
      </Viewbox>
    </cycControls:PanZoomBorder>
  </Grid>

</UserControl>
